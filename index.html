<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rutina Hipertrofia 4 Días</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            color: #ffffff;
            overflow-x: hidden;
        }
        .container {max-width: 1200px; margin: 0 auto; padding: 20px;}
        .header {text-align: center; margin-bottom: 30px;}
        h1 {
            font-size: 2rem; font-weight: 900;
            background: linear-gradient(45deg, #ff0000, #0066ff, #ff0000);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .subtitle {font-size: 1rem; color: #ccc; margin-top: 10px;}
        .day-selector {display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-bottom: 25px;}
        .day-btn {
            background: linear-gradient(45deg, #ff0000, #cc0000);
            border: none; color: white; padding: 10px 16px;
            border-radius: 20px; font-weight: 700; cursor: pointer;
        }
        .day-btn:hover {transform: translateY(-2px);} 
        .reset-day-btn {
            background: linear-gradient(45deg, #ff0066, #cc0044);
            border: none; color: white; padding: 8px 16px;
            border-radius: 15px; font-weight: 700; cursor: pointer;
            margin: 10px auto; display: block;
        }
        .exercises-table {width: 100%; border-collapse: collapse; margin-top: 20px;}
        .exercises-table th {background: linear-gradient(45deg, #0066ff, #004499); color: white; padding: 12px;}
        .exercises-table td {padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.1); vertical-align: top;}
        .exercise-name {font-weight: 700; cursor: pointer; text-decoration: underline;}
        .reps-display {color: #00ff00; font-weight: 700; text-align: center;}
        .weight-input {width: 70px; padding: 4px; border-radius: 5px; border: none; text-align: center;}
        .save-btn, .reset-btn {
            border: none; color: white; padding: 6px 10px;
            border-radius: 10px; font-weight: 700; cursor: pointer;
            margin-left: 8px;
        }
        .save-btn {background: linear-gradient(45deg, #00ff00, #00cc00);}
        .reset-btn {background: linear-gradient(45deg, #ff6600, #cc4400);}
        .history {font-size: 0.8rem; color: #ccc; margin-top: 5px;}
        .modal {display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8);} 
        .modal-content {position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); max-width: 90%; max-height: 90%; background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px;}
        .modal-image {max-width: 500px; width: 100%; border-radius: 10px;}
        .modal-title {text-align: center; margin-bottom: 15px; font-weight: 700;}
        .close-btn {position: absolute; top: 10px; right: 15px; border: none; background: red; color: white; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;}
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>Rutina Hipertrofia 4 Días</h1>
        <div class="subtitle">Empuje · Tirón · Pierna · Fullbody</div>
    </div>

    <div class="day-selector">
        <button class="day-btn" onclick="loadDay(1)">Día 1 - Empuje</button>
        <button class="day-btn" onclick="loadDay(2)">Día 2 - Tirón</button>
        <button class="day-btn" onclick="loadDay(3)">Día 3 - Piernas</button>
        <button class="day-btn" onclick="loadDay(4)">Día 4 - Fullbody</button>
    </div>

    <button id="resetDayBtn" class="reset-day-btn" style="display:none;">🔄 Reiniciar día</button>

    <table class="exercises-table">
        <thead>
            <tr>
                <th>Ejercicio</th>
                <th>Series x Reps</th>
                <th>Peso (kg)</th>
            </tr>
        </thead>
        <tbody id="exercisesList"></tbody>
    </table>

    <!-- Modal -->
    <div id="exerciseModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">×</button>
            <h3 id="modalTitle" class="modal-title"></h3>
            <img id="modalImage" class="modal-image" src="" alt="">
        </div>
    </div>
</div>

<script>
    const workouts = {
        1: [
            {name: 'Press banca', reps: '4x6-8', image: 'https://static.strengthlevel.com/images/exercises/bench-press/bench-press-800.jpg'},
            {name: 'Press inclinado mancuernas', reps: '3x8-10', image: 'https://static.strengthlevel.com/images/exercises/incline-dumbbell-bench-press/incline-dumbbell-bench-press-800.jpg'},
            {name: 'Fondos en paralelas', reps: '3x8-12', image: 'https://static.strengthlevel.com/images/exercises/dip/dip-800.jpg'},
            {name: 'Press militar', reps: '4x6-8', image: 'https://static.strengthlevel.com/images/exercises/military-press/military-press-800.jpg'},
            {name: 'Elevaciones laterales', reps: '4x12-15', image: 'https://static.strengthlevel.com/images/exercises/dumbbell-lateral-raise/dumbbell-lateral-raise-800.jpg'},
            {name: 'Tríceps en polea', reps: '3x10-12', image: 'https://static.strengthlevel.com/images/exercises/tricep-pushdown/tricep-pushdown-800.jpg'}
        ],
        2: [
            {name: 'Dominadas', reps: '4x6-10', image: 'https://static.strengthlevel.com/images/exercises/pull-up/pull-up-800.jpg'},
            {name: 'Remo con barra', reps: '4x8-10', image: 'https://static.strengthlevel.com/images/exercises/barbell-row/barbell-row-800.jpg'},
            {name: 'Jalón al pecho', reps: '3x10-12', image: 'https://static.strengthlevel.com/images/exercises/lat-pulldown/lat-pulldown-800.jpg'},
            {name: 'Face pulls', reps: '3x12-15', image: 'https://static.strengthlevel.com/images/exercises/face-pull/face-pull-800.jpg'},
            {name: 'Curl bíceps barra Z', reps: '3x8-10', image: 'https://static.strengthlevel.com/images/exercises/barbell-curl/barbell-curl-800.jpg'},
            {name: 'Curl inclinado mancuernas', reps: '3x10-12', image: 'https://static.strengthlevel.com/images/exercises/incline-dumbbell-curl/incline-dumbbell-curl-800.jpg'}
        ],
        3: [
            {name: 'Sentadilla', reps: '4x6-8', image: 'https://static.strengthlevel.com/images/exercises/squat/squat-800.jpg'},
            {name: 'Peso muerto rumano', reps: '4x8-10', image: 'https://static.strengthlevel.com/images/exercises/romanian-deadlift/romanian-deadlift-800.jpg'},
            {name: 'Zancada búlgara', reps: '3x10-12', image: 'https://static.strengthlevel.com/images/exercises/bulgarian-split-squat/bulgarian-split-squat-800.jpg'},
            {name: 'Prensa de piernas', reps: '3x8-10', image: 'https://static.strengthlevel.com/images/exercises/leg-press/leg-press-800.jpg'},
            {name: 'Extensión de cuádriceps', reps: '3x12-15', image: 'https://static.strengthlevel.com/images/exercises/leg-extension/leg-extension-800.jpg'},
            {name: 'Elevaciones de talón', reps: '5x12-20', image: 'https://static.strengthlevel.com/images/exercises/standing-calf-raise/standing-calf-raise-800.jpg'}
        ],
        4: [
            {name: 'Press banca', reps: '3x6-8', image: 'https://static.strengthlevel.com/images/exercises/bench-press/bench-press-800.jpg'},
            {name: 'Press militar', reps: '3x8-10', image: 'https://static.strengthlevel.com/images/exercises/military-press/military-press-800.jpg'},
            {name: 'Dominadas supinas', reps: '3x8-10', image: 'https://static.strengthlevel.com/images/exercises/chin-up/chin-up-800.jpg'},
            {name: 'Remo mancuerna unilateral', reps: '3x10-12', image: 'https://static.strengthlevel.com/images/exercises/one-arm-dumbbell-row/one-arm-dumbbell-row-800.jpg'},
            {name: 'Peso muerto convencional', reps: '3x6-8', image: 'https://static.strengthlevel.com/images/exercises/deadlift/deadlift-800.jpg'},
            {name: 'Hip thrust', reps: '3x8-10', image: 'https://static.strengthlevel.com/images/exercises/hip-thrust/hip-thrust-800.jpg'},
            {name: 'Curl bíceps + Extensión tríceps', reps: '2x12-15 (superserie)', image: 'https://static.strengthlevel.com/images/exercises/ez-bar-preacher-curl/ez-bar-preacher-curl-800.jpg'}
        ]
    };

    let currentDay = null;

    function loadDay(day) {
        currentDay = day;
        document.getElementById("resetDayBtn").style.display = "block";
        const tbody = document.getElementById('exercisesList');
        tbody.innerHTML = '';
        workouts[day].forEach((exercise, index) => {
            const key = `${day}_${exercise.name}`;
            const history = JSON.parse(localStorage.getItem(key)) || [];
            const lastWeight = history.length > 0 ? history[history.length - 1] : '';

            const row = document.createElement('tr');
            row.innerHTML = `
                <td>
                    <span class="exercise-name" onclick="openModal('${exercise.name}', '${exercise.image}')">${exercise.name}</span>
                    <div class="history">Historial: ${history.slice(-5).join(' · ') || '---'}</div>
                    <button class="reset-btn" onclick="resetExercise('${key}')">Reiniciar</button>
                </td>
                <td class="reps-display">${exercise.reps}</td>
                <td>
                    <input type="number" id="weight_${key}" class="weight-input" value="${lastWeight}" placeholder="kg">
                    <button class="save-btn" onclick="saveWeight('${key}')">Guardar</button>
                </td>
            `;
            tbody.appendChild(row);
        });
    }

    function saveWeight(key) {
        const input = document.getElementById(`weight_${key}`);
        const value = input.value;
        if (!value) return;
        let history = JSON.parse(localStorage.getItem(key)) || [];
        history.push(value);
        localStorage.setItem(key, JSON.stringify(history));
        const day = key.split('_')[0];
        loadDay(day);
    }

    function resetExercise(key) {
        if (confirm("¿Reiniciar historial de este ejercicio?")) {
            localStorage.removeItem(key);
            const day = key.split('_')[0];
            loadDay(day);
        }
    }

    document.getElementById("resetDayBtn").addEventListener("click", () => {
        if (confirm("¿Reiniciar todo el día?")) {
            workouts[currentDay].forEach(exercise => {
                const key = `${currentDay}_${exercise.name}`;
                localStorage.removeItem(key);
            });
            loadDay(currentDay);
        }
    });

    function openModal(title, imageUrl) {
        document.getElementById('modalTitle').textContent = title;
        document.getElementById('modalImage').src = imageUrl;
        document.getElementById('exerciseModal').style.display = 'block';
    }
    function closeModal() {document.getElementById('exerciseModal').style.display = 'none';}
</script>
</body>
</html>
